<div class="container mt-4">
  <div class="card">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">{{ isEdit ? 'Editar Producto' : 'Nuevo Producto' }}</h4>
    </div>
    <div class="card-body">
      <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        
        <!-- Nombre -->
        <div class="mb-3">
          <label class="form-label">Nombre del Producto *</label>
          <input type="text" class="form-control" formControlName="name" placeholder="Ingrese el nombre">
        </div>

        <!-- Descripción -->
        <div class="mb-3">
          <label class="form-label">Descripción *</label>
          <textarea class="form-control" formControlName="description" rows="3" placeholder="Ingrese la descripción"></textarea>
        </div>

        <div class="row">
          <!-- Presentación -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Presentación *</label>
            <input type="text" class="form-control" formControlName="presentation" placeholder="Ej: Tabletas, Jarabe">
          </div>

          <!-- Precio Unitario -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Precio Unitario (S/) *</label>
            <input type="number" step="0.01" class="form-control" formControlName="unitPrice" placeholder="0.00">
          </div>
        </div>

        <div class="row">
          <!-- Stock -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Stock *</label>
            <input type="number" class="form-control" formControlName="stock" placeholder="0">
          </div>

          <!-- Fecha de Expiración -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Fecha de Expiración *</label>
            <input type="date" class="form-control" formControlName="expired">
          </div>
        </div>

        <div class="row">
          <!-- Categoría -->
          <div class="col-md-4 mb-3">
            <label class="form-label">Categoría *</label>
            <select class="form-select" formControlName="category">
              <option value="">Seleccione categoría</option>
              <option *ngFor="let cat of categories" [value]="cat.idCategory">
                {{ cat.name }}
              </option>
            </select>
          </div>

          <!-- Familia -->
          <div class="col-md-4 mb-3">
            <label class="form-label">Familia *</label>
            <select class="form-select" formControlName="family">
              <option value="">Seleccione familia</option>
              <option *ngFor="let fam of families" [value]="fam.idFamily">
                {{ fam.name }}
              </option>
            </select>
          </div>

          <!-- Laboratorio -->
          <div class="col-md-4 mb-3">
            <label class="form-label">Laboratorio *</label>
            <select class="form-select" formControlName="laboratory">
              <option value="">Seleccione laboratorio</option>
              <option *ngFor="let lab of laboratories" [value]="lab.idLaboratory">
                {{ lab.name }}
              </option>
            </select>
          </div>
        </div>

        <!-- Botones -->
        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-primary">
            {{ isEdit ? 'Actualizar' : 'Crear' }} Producto
          </button>
          <button type="button" class="btn btn-secondary" routerLink="/pages/products">
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>